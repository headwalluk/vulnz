{
  "project": "vulnz-api",
  "lead": "Zee",
  "last_updated": "2026-02-17T21:21",
  "current_status": {
    "summary": "M4 in progress — M4.1–M4.7 complete and tested. All 184 tests passing (194 total, 10 skipped pre-existing). M4.8 remains: update documentation (README, CHANGELOG, API docs).",
    "next_action": "Coding sprint: M4.8 — update documentation for npm ecosystem support."
  },
  "milestones": [
    {
      "id": "M1",
      "title": "CLI Skeleton + User Management",
      "status": "complete",
      "notes": "Core goal: allow an administrator account to be created on a clean install, and manage user accounts (add/delete/block). Replaces the SETUP_MODE env var approach which is a security risk.",
      "tasks": [
        {
          "id": "M1.1",
          "description": "Create bin/ directory and bin/vulnz.js scaffold using commander",
          "done": true
        },
        {
          "id": "M1.2",
          "description": "Implement user:add <email> <password> [--admin] command",
          "done": true
        },
        {
          "id": "M1.3",
          "description": "Implement user:list command (table output, --json flag)",
          "done": true
        },
        {
          "id": "M1.4",
          "description": "Implement user:delete <email> command",
          "done": true
        },
        {
          "id": "M1.5",
          "description": "Implement user:block <email> and user:unblock <email> commands",
          "done": true
        },
        {
          "id": "M1.6",
          "description": "Implement user:reset-password <email> <new-password> command",
          "done": true
        },
        {
          "id": "M1.7",
          "description": "Remove SETUP_MODE auto-admin creation code from src/ once CLI is proven",
          "done": true
        },
        {
          "id": "M1.8",
          "description": "Write tests for CLI commands",
          "done": true
        },
        {
          "id": "M1.9",
          "description": "Update README with CLI usage documentation",
          "done": true
        }
      ]
    },
    {
      "id": "M2",
      "title": "API Key Management",
      "status": "complete",
      "notes": "Allow CLI management of API keys without needing to log into the web admin.",
      "tasks": [
        {
          "id": "M2.1",
          "description": "Implement key:list <email> command",
          "done": true
        },
        {
          "id": "M2.2",
          "description": "Implement key:generate <email> command",
          "done": true
        },
        {
          "id": "M2.3",
          "description": "Implement key:revoke <key> command",
          "done": true
        },
        {
          "id": "M2.4",
          "description": "Write tests and update documentation",
          "done": true
        }
      ]
    },
    {
      "id": "M3",
      "title": "Feed & Component Inspection Tools",
      "status": "complete",
      "notes": "Useful diagnostic commands for checking database state and ingestion health.",
      "tasks": [
        {
          "id": "M3.1",
          "description": "Implement feed:status — show last Wordfence ingestion timestamp",
          "done": true
        },
        {
          "id": "M3.2",
          "description": "Implement component:find <slug> — quick DB lookup",
          "done": true
        },
        {
          "id": "M3.3",
          "description": "Implement release:list <slug> — list known releases for a component",
          "done": true
        },
        {
          "id": "M3.4",
          "description": "Write tests and update documentation",
          "done": true
        }
      ]
    },
    {
      "id": "M4",
      "title": "npm Package Support",
      "status": "in_progress",
      "notes": "Add npm as a first-class ecosystem alongside WordPress. This includes DB schema changes, API updates (backward-compatible), a vulnerability feed processor, and a vulnz-sensor npm package for Node.js projects. See dev-notes/09-multi-platform-support.md for architecture decisions.",
      "tasks": [
        {
          "id": "M4.1",
          "description": "DB migration: create ecosystems table, add ecosystem_id to component_types and websites, add platform_metadata to websites, seed wordpress/npm ecosystems, add npm-package component type",
          "done": true
        },
        {
          "id": "M4.2",
          "description": "Add GET /api/ecosystems endpoint and Ecosystem model",
          "done": true
        },
        {
          "id": "M4.3",
          "description": "Update PUT /api/websites to accept npm-package components (generic components array with type field, backward-compatible with existing wordpress-plugins/wordpress-themes keys)",
          "done": true
        },
        {
          "id": "M4.4",
          "description": "Update website model: store ecosystem_id and platform_metadata when creating/updating websites",
          "done": true
        },
        {
          "id": "M4.5",
          "description": "Create scripts/process-npm-vulnerabilities.sh — batch-query OSV.dev for tracked npm packages and insert/update vulnerability records",
          "done": true
        },
        {
          "id": "M4.6",
          "description": "Create vulnz-sensor npm package (packages/vulnz-sensor/) — reads package.json, posts dependencies to vulnz-api via PUT /api/websites/:domain",
          "done": true
        },
        {
          "id": "M4.7",
          "description": "Write tests for ecosystem API: GET /api/ecosystems, npm-package components in PUT /api/websites, backward-compat with old wordpress-plugins/themes keys",
          "done": true
        },
        {
          "id": "M4.8",
          "description": "Update documentation: README, CHANGELOG, API docs",
          "done": false
        }
      ]
    }
  ]
}
